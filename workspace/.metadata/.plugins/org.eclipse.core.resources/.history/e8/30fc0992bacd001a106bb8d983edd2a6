/*
 * CREATED ON:    Apr 14, 2006 4:02:41 PM
 * CREATED BY:    Amit Bansil 
 */
package cps.water;

import cps.jarch.gui.util.EDTWorker;

import javax.swing.SwingUtilities;

import java.lang.reflect.InvocationTargetException;

/**
 * <p>Main class for starting Water application. Methods should be invoked on EDT only.
 * </p>
 * @version $Id$
 * @author Amit Bansil
 */
public class Application {
	private final AppModel model;
	private final GUI gui;
	//create application
	public Application() {
		EDTWorker.checkThread();
		model=new AppModel();
		gui=new GUI(model);
	}
	//make gui visible
	public final void show() {
		EDTWorker.checkThread();
		gui.show();
	}
	/**
	 * @param args
	 */
	public static void main(String[] args) {
		//run on EDT
		try {
			SwingUtilities.invokeAndWait(new Runnable() {
				public void run() {
					//TODO: show splashscreen,parse input files/parameters
					new Application().show();
				}
			});
		} catch (InterruptedException e) {
			//should not happen
			throw new Error(e);
		} catch (InvocationTargetException e) {
			//should not happen
			throw new Error(e);
		}
	}

}
