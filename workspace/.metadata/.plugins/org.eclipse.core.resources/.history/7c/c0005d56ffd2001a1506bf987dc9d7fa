/*
 * BoxDrawer.java
 * CREATED:    Aug 23, 2004 9:14:53 PM
 * AUTHOR:     Amit Bansil
 * PROJECT:    vmdl2
 * 
 * Copyright 2004 The Center for Polymer Studies,
 * Boston University, all rights reserved.
 * */
package cps.water.moleculedisplay;

import javax.media.opengl.GL;

/**
 * TODO: label axes
 * 
 * @version 0.0
 * @author Amit Bansil
 */
public class BoxDrawer{
	//color
	private static final float COLOR_R = 0.2f, COLOR_G = 0.2f, COLOR_B = 0.2f;

	public BoxDrawer() {
	}

	private boolean listCreated = false;

	private int lname;

	public void kill(GL gl) {
		if(!listCreated)throw new IllegalStateException("list !created");
		gl.glDeleteLists(lname, 1);
		listCreated = false;
	}

	public void init(GL gl) {
		if(listCreated)throw new IllegalStateException("list already created");

		gl.glNewList(lname, GL.GL_COMPILE);
		gl.glBegin(GL.GL_LINES);
		gl.glNormal3f(0,0,1);
		gl.glColor3f(COLOR_R,COLOR_G,COLOR_B);
		
		//front
		gl.glVertex3f(0.0f, 0.0f, 0.0f);
		gl.glVertex3f(1.0f, 0.0f, 0.0f);

		gl.glVertex3f(0.0f, 0.0f, 0.0f);
		gl.glVertex3f(0.0f, 1.0f, 0.0f);

		gl.glVertex3f(1.0f, 1.0f, 0.0f);
		gl.glVertex3f(1.0f, 0.0f, 0.0f);

		gl.glVertex3f(1.0f, 1.0f, 0.0f);
		gl.glVertex3f(0.0f, 1.0f, 0.0f);
		//back
		gl.glVertex3f(0.0f, 0.0f, 1.0f);
		gl.glVertex3f(1.0f, 0.0f, 1.0f);

		gl.glVertex3f(0.0f, 0.0f, 1.0f);
		gl.glVertex3f(0.0f, 1.0f, 1.0f);

		gl.glVertex3f(1.0f, 1.0f, 1.0f);
		gl.glVertex3f(1.0f, 0.0f, 1.0f);

		gl.glVertex3f(1.0f, 1.0f, 1.0f);
		gl.glVertex3f(0.0f, 1.0f, 1.0f);
		
		//connection
		gl.glVertex3f(1.0f, 1.0f, 0.0f);
		gl.glVertex3f(1.0f, 1.0f, 1.0f);

		gl.glVertex3f(1.0f, 0.0f, 0.0f);
		gl.glVertex3f(1.0f, 0.0f, 1.0f);

		gl.glVertex3f(0.0f, 1.0f, 0.0f);
		gl.glVertex3f(0.0f, 1.0f, 1.0f);

		gl.glVertex3f(0.0f, 0.0f, 0.0f);
		gl.glVertex3f(0.0f, 0.0f, 1.0f);

		gl.glEnd();
		gl.glEndList();
		listCreated = true;

	}

	//OPTIMIZE-create second display list for all commands?
	//push geometry faster
	
	//gl.glTranslatef(ox, oy, oz);
	//gl.glScalef(sx, sy, sz);
	public void draw(GL gl) {
		assert listCreated;
		gl.glCallList(lname);
	}

}